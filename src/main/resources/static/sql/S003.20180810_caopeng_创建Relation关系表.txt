INSERT INTO SYS_DBLOG(SID,STATUS)VALUES('S003',0);
COMMIT;
-------------------------------------------------------------------------------------------

--创建轨迹表
CREATE TABLE RELATION
(
    XXZJBH VARCHAR2(23 BYTE),
    OBJECTFROMTYPE VARCHAR2(20 BYTE),
    OBJECTFROMTYPENAME VARCHAR2(100 BYTE),
    OBJECTFROMVALUE VARCHAR2(50 BYTE),
    OBJECTTOTYPE VARCHAR2(20 BYTE),
    OBJECTTOTYPENAME VARCHAR2(100 BYTE),
    OBJECTTOVALUE VARCHAR2(50 BYTE),
    RELATIVETYPE VARCHAR2(20 BYTE),
    RELATIVETYPENAME VARCHAR2(100 BYTE),
    SOURCE VARCHAR2(20 BYTE),
    SOURCENAME VARCHAR2(100 BYTE),
    SOURCE_MD5 VARCHAR2(50 BYTE),
    TIMESTAMP VARCHAR2(50 BYTE),
    FIRST_TIMESTAMP VARCHAR2(50 BYTE),
    COUNT NUMBER  default 0,
    DJSJ DATE               DEFAULT sysdate
)TABLESPACE TBS_BIGDATA
  PCTUSED    0
  PCTFREE    10
  INITRANS   1
  MAXTRANS   255
  STORAGE    (
              INITIAL          64K
              NEXT             1M
              MINEXTENTS       1
              MAXEXTENTS       UNLIMITED
              PCTINCREASE      0
              BUFFER_POOL      DEFAULT
             )
  LOGGING
  NOCOMPRESS
  NOCACHE
  NOPARALLEL
  MONITORING;

COMMENT ON table RELATION is '对象关系表';
COMMENT ON COLUMN RELATION.XXZJBH IS '信息主键编号';

COMMENT ON COLUMN RELATION.OBJECTFROMTYPE IS '参数对象类型编号';

COMMENT ON COLUMN RELATION.OBJECTFROMTYPENAME IS '参数对象类型名称';

COMMENT ON COLUMN RELATION.OBJECTFROMVALUE IS '参数对象类型值';

COMMENT ON COLUMN RELATION.OBJECTTOTYPE IS '对象类型编号';

COMMENT ON COLUMN RELATION.OBJECTTOTYPENAME IS '对象类型名称';

COMMENT ON COLUMN RELATION.OBJECTTOVALUE IS '对象类型值';

COMMENT ON COLUMN RELATION.RELATIVETYPE IS '关系类型编号';

COMMENT ON COLUMN RELATION.RELATIVETYPENAME IS '关系类型名称';
COMMENT ON COLUMN RELATION.TIMESTAMP IS '关联时间';
COMMENT ON COLUMN RELATION.SOURCE IS '资源编号';
COMMENT ON COLUMN RELATION.SOURCENAME IS '资源名称';

COMMENT ON COLUMN RELATION.SOURCE_MD5 IS '';
COMMENT ON COLUMN RELATION.FIRST_TIMESTAMP IS '第一次发现时间';

COMMENT ON COLUMN RELATION.DJSJ IS '登记时间';
--创建主键
CREATE UNIQUE INDEX PK_RELATION_XXZJBH ON RELATION
(XXZJBH)
LOGGING
TABLESPACE TBS_INDEX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;

ALTER TABLE RELATION ADD (
  CONSTRAINT PK_RELATION_XXZJBH
 PRIMARY KEY
 (XXZJBH)
    USING INDEX 
    TABLESPACE TBS_INDEX
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             1M
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
               ));

-------------------------------------------------------------------------------------------
UPDATE SYS_DBLOG SET STATUS=1 WHERE SID='S003';
COMMIT;